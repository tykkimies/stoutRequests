/* Modern Dark Mode Implementation - 2024/2025 Standards
 * Following Material Design 3 elevation and color systems
 * Improved accessibility and visual hierarchy
 */

/* ===== MODERN DARK THEME ROOT VARIABLES ===== */
body.theme-dark {
    /* Surface Colors - Material Design 3 Elevation System */
    --surface-dim: #101418;
    --surface-bright: #36393f;
    --surface-container-lowest: #0f1116;
    --surface-container-low: #191c21;
    --surface-container: #1d2026;
    --surface-container-high: #282b31;
    --surface-container-highest: #32353c;
    
    /* Text Colors - Proper contrast hierarchy */
    --text-primary: #f8fafc;          /* High emphasis - 87% opacity equivalent */
    --text-secondary: #cbd5e1;        /* Medium emphasis - 60% opacity equivalent */
    --text-tertiary: #94a3b8;         /* Low emphasis - 38% opacity equivalent */
    --text-disabled: #64748b;         /* Disabled state - 24% opacity equivalent */
    
    /* Border Colors */
    --border-subtle: #2d3441;
    --border-default: #404856;
    --border-emphasis: #576574;
    
    /* Accent Colors - Modern palette that works with dark themes */
    --accent-blue: #3b82f6;
    --accent-blue-hover: #2563eb;
    --accent-blue-subtle: rgba(59, 130, 246, 0.1);
    
    --accent-purple: #8b5cf6;
    --accent-purple-hover: #7c3aed;
    --accent-purple-subtle: rgba(139, 92, 246, 0.1);
    
    --accent-emerald: #10b981;
    --accent-emerald-hover: #059669;
    --accent-emerald-subtle: rgba(16, 185, 129, 0.1);
    
    --accent-amber: #f59e0b;
    --accent-amber-hover: #d97706;
    --accent-amber-subtle: rgba(245, 158, 11, 0.1);
    
    --accent-rose: #f43f5e;
    --accent-rose-hover: #e11d48;
    --accent-rose-subtle: rgba(244, 63, 94, 0.1);
    
    /* Semantic Colors */
    --success-bg: rgba(34, 197, 94, 0.1);
    --success-border: rgba(34, 197, 94, 0.3);
    --success-text: #4ade80;
    
    --warning-bg: rgba(245, 158, 11, 0.1);
    --warning-border: rgba(245, 158, 11, 0.3);
    --warning-text: #fbbf24;
    
    --error-bg: rgba(239, 68, 68, 0.1);
    --error-border: rgba(239, 68, 68, 0.3);
    --error-text: #f87171;
    
    --info-bg: rgba(59, 130, 246, 0.1);
    --info-border: rgba(59, 130, 246, 0.3);
    --info-text: #60a5fa;
    
    /* Enhanced shadow system for dark mode */
    --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.4);
    --shadow-default: 0 1px 3px 0 rgba(0, 0, 0, 0.5), 0 1px 2px 0 rgba(0, 0, 0, 0.3);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.4), 0 2px 4px -1px rgba(0, 0, 0, 0.3);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.4), 0 4px 6px -2px rgba(0, 0, 0, 0.2);
    --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.4), 0 10px 10px -5px rgba(0, 0, 0, 0.2);
}

/* ===== BASE BACKGROUND AND TEXT OVERRIDES ===== */
body.theme-dark {
    background-color: var(--surface-dim) !important;
    color: var(--text-primary) !important;
}

/* ===== SURFACE ELEVATION SYSTEM ===== */
/* Level 0 - Base surface */
body.theme-dark .bg-white { 
    background-color: var(--surface-container-low) !important; 
}

/* Level 1 - Elevated cards and panels */
body.theme-dark .bg-gray-50 { 
    background-color: var(--surface-container) !important; 
}

/* Level 2 - Higher elevation components */
body.theme-dark .bg-gray-100 { 
    background-color: var(--surface-container-high) !important; 
}

/* Level 3 - Modal and overlay backgrounds */
body.theme-dark .bg-gray-200 { 
    background-color: var(--surface-container-highest) !important; 
}

/* ===== IMPROVED TEXT COLOR HIERARCHY ===== */
body.theme-dark .text-gray-900 { color: var(--text-primary) !important; }
body.theme-dark .text-gray-800 { color: var(--text-primary) !important; }
body.theme-dark .text-gray-700 { color: var(--text-secondary) !important; }
body.theme-dark .text-gray-600 { color: var(--text-secondary) !important; }
body.theme-dark .text-gray-500 { color: var(--text-tertiary) !important; }
body.theme-dark .text-gray-400 { color: var(--text-disabled) !important; }

/* ===== IMPROVED BORDER COLORS ===== */
body.theme-dark .border-gray-200 { border-color: var(--border-default) !important; }
body.theme-dark .border-gray-300 { border-color: var(--border-emphasis) !important; }
body.theme-dark .border-gray-400 { border-color: var(--border-emphasis) !important; }

/* ===== ENHANCED FORM ELEMENTS ===== */
body.theme-dark input[type="text"],
body.theme-dark input[type="email"],
body.theme-dark input[type="password"],
body.theme-dark input[type="number"],
body.theme-dark input[type="url"],
body.theme-dark input[type="search"],
body.theme-dark textarea,
body.theme-dark select {
    background-color: var(--surface-container) !important;
    color: var(--text-primary) !important;
    border-color: var(--border-default) !important;
    box-shadow: var(--shadow-sm) !important;
}

body.theme-dark input[type="text"]:focus,
body.theme-dark input[type="email"]:focus,
body.theme-dark input[type="password"]:focus,
body.theme-dark input[type="number"]:focus,
body.theme-dark input[type="url"]:focus,
body.theme-dark input[type="search"]:focus,
body.theme-dark textarea:focus,
body.theme-dark select:focus {
    background-color: var(--surface-container-high) !important;
    border-color: var(--accent-blue) !important;
    box-shadow: 0 0 0 3px var(--accent-blue-subtle), var(--shadow-md) !important;
    outline: none !important;
}

body.theme-dark input::placeholder,
body.theme-dark textarea::placeholder {
    color: var(--text-tertiary) !important;
}

/* ===== ENHANCED BUTTON SYSTEM ===== */

/* Primary Buttons - Orange/Brand Color */
body.theme-dark .bg-orange-600,
body.theme-dark .bg-primary-600 {
    background: linear-gradient(135deg, #ea580c 0%, #dc2626 100%) !important;
    color: var(--text-primary) !important;
    border: 1px solid rgba(234, 88, 12, 0.3) !important;
    box-shadow: var(--shadow-md) !important;
}

body.theme-dark .bg-orange-600:hover,
body.theme-dark .bg-primary-600:hover,
body.theme-dark .hover\:bg-orange-700:hover,
body.theme-dark .hover\:bg-primary-700:hover {
    background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%) !important;
    box-shadow: var(--shadow-lg) !important;
    transform: translateY(-1px) !important;
}

/* Secondary Buttons - Much Better Contrast */
body.theme-dark .bg-gray-200,
body.theme-dark .bg-gray-300 {
    background: linear-gradient(135deg, var(--surface-container-high) 0%, var(--surface-container-highest) 100%) !important;
    color: var(--text-primary) !important;
    border: 1px solid var(--border-emphasis) !important;
    box-shadow: var(--shadow-sm) !important;
}

body.theme-dark .bg-gray-200:hover,
body.theme-dark .bg-gray-300:hover,
body.theme-dark .hover\:bg-gray-200:hover,
body.theme-dark .hover\:bg-gray-300:hover,
body.theme-dark .hover\:bg-gray-400:hover {
    background: linear-gradient(135deg, var(--surface-container-highest) 0%, #404856 100%) !important;
    color: var(--text-primary) !important;
    border-color: var(--accent-blue) !important;
    box-shadow: var(--shadow-md) !important;
    transform: translateY(-1px) !important;
}

/* Success Buttons */
body.theme-dark .bg-green-600 {
    background: linear-gradient(135deg, var(--accent-emerald) 0%, var(--accent-emerald-hover) 100%) !important;
    color: var(--text-primary) !important;
    box-shadow: var(--shadow-md) !important;
}

body.theme-dark .bg-green-600:hover,
body.theme-dark .hover\:bg-green-700:hover {
    background: linear-gradient(135deg, var(--accent-emerald-hover) 0%, #047857 100%) !important;
    box-shadow: var(--shadow-lg) !important;
    transform: translateY(-1px) !important;
}

/* Warning/Purple Buttons */
body.theme-dark .bg-purple-600 {
    background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-purple-hover) 100%) !important;
    color: var(--text-primary) !important;
    box-shadow: var(--shadow-md) !important;
}

body.theme-dark .bg-purple-600:hover,
body.theme-dark .hover\:bg-purple-700:hover {
    background: linear-gradient(135deg, var(--accent-purple-hover) 0%, #6d28d9 100%) !important;
    box-shadow: var(--shadow-lg) !important;
    transform: translateY(-1px) !important;
}

/* Info/Blue Buttons */
body.theme-dark .bg-blue-600 {
    background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-blue-hover) 100%) !important;
    color: var(--text-primary) !important;
    box-shadow: var(--shadow-md) !important;
}

body.theme-dark .bg-blue-600:hover,
body.theme-dark .hover\:bg-blue-700:hover {
    background: linear-gradient(135deg, var(--accent-blue-hover) 0%, #1d4ed8 100%) !important;
    box-shadow: var(--shadow-lg) !important;
    transform: translateY(-1px) !important;
}

/* Danger/Red Buttons */
body.theme-dark .bg-red-600 {
    background: linear-gradient(135deg, var(--accent-rose) 0%, var(--accent-rose-hover) 100%) !important;
    color: var(--text-primary) !important;
    box-shadow: var(--shadow-md) !important;
}

body.theme-dark .bg-red-600:hover,
body.theme-dark .hover\:bg-red-700:hover {
    background: linear-gradient(135deg, var(--accent-rose-hover) 0%, #dc2626 100%) !important;
    box-shadow: var(--shadow-lg) !important;
    transform: translateY(-1px) !important;
}

/* ===== FORM BACKGROUND FIXES ===== */

/* Fix purple-50 backgrounds that look out of place */
body.theme-dark .bg-purple-50 {
    background: linear-gradient(135deg, var(--accent-purple-subtle) 0%, rgba(139, 92, 246, 0.05) 100%) !important;
    border: 1px solid rgba(139, 92, 246, 0.2) !important;
}

/* Other colored backgrounds that need adjustment */
body.theme-dark .bg-blue-50 {
    background: var(--info-bg) !important;
    border-color: var(--info-border) !important;
}

body.theme-dark .bg-green-50 {
    background: var(--success-bg) !important;
    border-color: var(--success-border) !important;
}

body.theme-dark .bg-yellow-50,
body.theme-dark .bg-amber-50 {
    background: var(--warning-bg) !important;
    border-color: var(--warning-border) !important;
}

body.theme-dark .bg-red-50 {
    background: var(--error-bg) !important;
    border-color: var(--error-border) !important;
}

/* ===== ENHANCED CARDS AND PANELS ===== */
body.theme-dark .card,
body.theme-dark .panel,
body.theme-dark .modal-content {
    background-color: var(--surface-container) !important;
    border: 1px solid var(--border-default) !important;
    box-shadow: var(--shadow-lg) !important;
}

body.theme-dark .shadow-sm { box-shadow: var(--shadow-sm) !important; }
body.theme-dark .shadow { box-shadow: var(--shadow-default) !important; }
body.theme-dark .shadow-md { box-shadow: var(--shadow-md) !important; }
body.theme-dark .shadow-lg { box-shadow: var(--shadow-lg) !important; }
body.theme-dark .shadow-xl { box-shadow: var(--shadow-xl) !important; }

/* ===== DROPDOWN AND SELECT IMPROVEMENTS ===== */
body.theme-dark select option {
    background-color: var(--surface-container-high) !important;
    color: var(--text-primary) !important;
}

body.theme-dark .dropdown-menu,
body.theme-dark [role="menu"],
body.theme-dark [role="listbox"] {
    background: linear-gradient(135deg, var(--surface-container-high) 0%, var(--surface-container-highest) 100%) !important;
    border: 1px solid var(--border-emphasis) !important;
    color: var(--text-primary) !important;
    box-shadow: var(--shadow-xl) !important;
}

body.theme-dark .dropdown-menu a,
body.theme-dark [role="menuitem"],
body.theme-dark [role="option"] {
    color: var(--text-primary) !important;
}

body.theme-dark .dropdown-menu a:hover,
body.theme-dark [role="menuitem"]:hover,
body.theme-dark [role="option"]:hover {
    background-color: var(--accent-blue-subtle) !important;
    color: var(--accent-blue) !important;
}

/* ===== CHECKBOX AND RADIO IMPROVEMENTS ===== */
body.theme-dark input[type="checkbox"],
body.theme-dark input[type="radio"] {
    background-color: var(--surface-container) !important;
    border-color: var(--border-emphasis) !important;
}

body.theme-dark input[type="checkbox"]:checked,
body.theme-dark input[type="radio"]:checked {
    background-color: var(--accent-blue) !important;
    border-color: var(--accent-blue) !important;
}

/* ===== ENHANCED LABEL AND FORM TEXT ===== */
body.theme-dark label,
body.theme-dark .form-label {
    color: var(--text-secondary) !important;
    font-weight: 500 !important;
}

body.theme-dark .form-help,
body.theme-dark .text-sm,
body.theme-dark small {
    color: var(--text-tertiary) !important;
}

/* ===== TABLE IMPROVEMENTS ===== */
body.theme-dark table {
    background-color: var(--surface-container) !important;
    border: 1px solid var(--border-default) !important;
}

body.theme-dark th {
    background-color: var(--surface-container-high) !important;
    border-color: var(--border-emphasis) !important;
    color: var(--text-primary) !important;
    font-weight: 600 !important;
}

body.theme-dark td {
    border-color: var(--border-subtle) !important;
    color: var(--text-secondary) !important;
}

body.theme-dark tr:nth-child(even) {
    background-color: var(--surface-container-low) !important;
}

body.theme-dark tr:hover {
    background-color: var(--accent-blue-subtle) !important;
}

/* ===== MODAL AND DIALOG ENHANCEMENTS ===== */
body.theme-dark .modal,
body.theme-dark .dialog,
body.theme-dark .overlay {
    background-color: rgba(16, 20, 24, 0.8) !important;
    backdrop-filter: blur(8px) !important;
}

/* ===== CODE AND PRE ELEMENTS ===== */
body.theme-dark code,
body.theme-dark pre {
    background-color: var(--surface-container-lowest) !important;
    color: var(--text-secondary) !important;
    border: 1px solid var(--border-subtle) !important;
    border-radius: 6px !important;
}

/* ===== NAVIGATION ENHANCEMENTS ===== */
body.theme-dark .breadcrumb,
body.theme-dark .nav-item {
    color: var(--text-secondary) !important;
}

body.theme-dark .breadcrumb a:hover,
body.theme-dark .nav-item:hover {
    color: var(--text-primary) !important;
}

/* ===== STATUS BADGES AND INDICATORS ===== */
body.theme-dark .bg-yellow-100 { 
    background: var(--warning-bg) !important; 
    color: var(--warning-text) !important;
    border: 1px solid var(--warning-border) !important;
}

body.theme-dark .bg-green-100 { 
    background: var(--success-bg) !important; 
    color: var(--success-text) !important;
    border: 1px solid var(--success-border) !important;
}

body.theme-dark .bg-blue-100 { 
    background: var(--info-bg) !important; 
    color: var(--info-text) !important;
    border: 1px solid var(--info-border) !important;
}

body.theme-dark .bg-red-100 { 
    background: var(--error-bg) !important; 
    color: var(--error-text) !important;
    border: 1px solid var(--error-border) !important;
}

/* ===== ACCESSIBILITY IMPROVEMENTS ===== */

/* Enhanced focus states */
body.theme-dark *:focus {
    outline: 2px solid var(--accent-blue) !important;
    outline-offset: 2px !important;
}

body.theme-dark button:focus,
body.theme-dark input:focus,
body.theme-dark select:focus,
body.theme-dark textarea:focus {
    outline: none !important;
    box-shadow: 0 0 0 3px var(--accent-blue-subtle) !important;
}

/* ===== ANIMATION AND TRANSITION IMPROVEMENTS ===== */
body.theme-dark button,
body.theme-dark input,
body.theme-dark select,
body.theme-dark textarea {
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

body.theme-dark button:hover {
    transition: all 0.15s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

/* ===== RESPONSIVE DESIGN CONSIDERATIONS ===== */
@media (max-width: 768px) {
    body.theme-dark {
        --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.3);
        --shadow-default: 0 1px 3px 0 rgba(0, 0, 0, 0.4), 0 1px 2px 0 rgba(0, 0, 0, 0.2);
        --shadow-lg: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.2);
    }
    
    body.theme-dark button {
        min-height: 44px !important; /* Better touch targets */
    }
}

/* ===== LOADING STATES AND FEEDBACK ===== */
body.theme-dark .loading,
body.theme-dark .spinner {
    border-color: var(--text-tertiary) !important;
    border-top-color: var(--accent-blue) !important;
}

/* ===== ADDITIONAL SPECIFIC FIXES ===== */

/* Fix for admin quick action buttons */
body.theme-dark .bg-purple-50.hover\:bg-purple-100:hover {
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.15) 0%, rgba(139, 92, 246, 0.25) 100%) !important;
    color: var(--accent-purple) !important;
    border-color: var(--accent-purple) !important;
}

/* Fix for text color in colored backgrounds */
body.theme-dark .text-purple-700 { color: var(--accent-purple) !important; }
body.theme-dark .text-blue-700 { color: var(--accent-blue) !important; }
body.theme-dark .text-green-700 { color: var(--accent-emerald) !important; }
body.theme-dark .text-yellow-700 { color: var(--accent-amber) !important; }
body.theme-dark .text-red-700 { color: var(--accent-rose) !important; }

/* Improved contrast for gray text elements */
body.theme-dark .text-gray-700 {
    color: var(--text-secondary) !important;
    font-weight: 500 !important; /* Slightly bolder for better readability */
}

body.theme-dark .text-gray-600 {
    color: var(--text-secondary) !important; /* Good contrast without being too bright */
}

body.theme-dark .text-gray-500 {
    color: var(--text-secondary) !important; /* Upgraded from tertiary to secondary for better readability */
    font-weight: 500 !important;
}

body.theme-dark .text-gray-400 {
    color: var(--text-secondary) !important; /* Upgraded from disabled to secondary for better readability */
}

/* ===== ENHANCED INTERACTIVE STATES ===== */
body.theme-dark button:active {
    transform: translateY(0) scale(0.98) !important;
}

body.theme-dark .dropdown-menu button:hover {
    background: linear-gradient(135deg, var(--accent-blue-subtle) 0%, rgba(59, 130, 246, 0.15) 100%) !important;
    color: var(--accent-blue) !important;
}

/* ===== REQUESTS PAGE COMPLETE DARK MODE REDESIGN ===== */

/* Main request card styling */
body.theme-dark .request-item {
    background: linear-gradient(135deg, var(--surface-container) 0%, var(--surface-container-high) 100%) !important;
    border: 1px solid var(--border-default) !important;
    box-shadow: var(--shadow-md) !important;
}

body.theme-dark .request-item:hover {
    background: linear-gradient(135deg, var(--surface-container-high) 0%, var(--surface-container-highest) 100%) !important;
    border-color: var(--accent-blue) !important;
    box-shadow: var(--shadow-lg) !important;
}

/* Fix card text hierarchy */
body.theme-dark .request-item h3 {
    color: var(--text-primary) !important;
    font-weight: 600 !important;
}

body.theme-dark .request-item .text-gray-900 {
    color: var(--text-primary) !important;
}

body.theme-dark .request-item .text-gray-600 {
    color: var(--text-secondary) !important;
}

body.theme-dark .request-item .text-gray-500 {
    color: var(--text-tertiary) !important;
}

body.theme-dark .request-item .text-gray-400 {
    color: var(--text-tertiary) !important;
}

/* Fix card footer background */
body.theme-dark .request-item .bg-gray-50 {
    background: linear-gradient(135deg, var(--surface-container-low) 0%, var(--surface-container) 100%) !important;
    border-top: 1px solid var(--border-subtle) !important;
}

/* Fix border elements in cards */
body.theme-dark .request-item .border-gray-100 {
    border-color: var(--border-subtle) !important;
}

/* Requests page tab navigation improvements */
body.theme-dark .border-gray-100 {
    border-color: var(--border-subtle) !important;
}

body.theme-dark .bg-gray-50 {
    background: linear-gradient(135deg, var(--surface-container-low) 0%, var(--surface-container) 100%) !important;
}

/* Status tab buttons */
body.theme-dark .status-tab-button {
    color: var(--text-secondary) !important;
}

body.theme-dark .status-tab-button:hover {
    background-color: var(--surface-container) !important;
    color: var(--text-primary) !important;
}

body.theme-dark .status-tab-button.bg-white {
    background: linear-gradient(135deg, var(--surface-container-high) 0%, var(--surface-container-highest) 100%) !important;
    color: var(--text-primary) !important;
    border: 1px solid var(--border-emphasis) !important;
    box-shadow: var(--shadow-sm) !important;
}

/* Fix request page status badges with better contrast */
body.theme-dark .bg-gray-100 {
    background-color: var(--surface-container-high) !important;
}

/* Status badge improvements */
body.theme-dark .bg-yellow-100 { 
    background: var(--warning-bg) !important; 
    color: var(--text-primary) !important; /* White text instead of yellow */
    border: 1px solid var(--warning-border) !important;
}

body.theme-dark .bg-green-100 { 
    background: var(--success-bg) !important; 
    color: var(--text-primary) !important; /* White text instead of green */
    border: 1px solid var(--success-border) !important;
}

body.theme-dark .bg-blue-100 { 
    background: var(--info-bg) !important; 
    color: var(--text-primary) !important; /* White text instead of blue */
    border: 1px solid var(--info-border) !important;
}

body.theme-dark .bg-red-100 { 
    background: var(--error-bg) !important; 
    color: var(--text-primary) !important; /* White text instead of red */
    border: 1px solid var(--error-border) !important;
}

/* ===== COMPREHENSIVE BUTTON AND BADGE TEXT FIXES ===== */

/* All button text should be white in dark mode for maximum readability */
body.theme-dark button {
    color: var(--text-primary) !important;
}

/* All badge and pill text should be white */
body.theme-dark .bg-yellow-100,
body.theme-dark .bg-green-100,
body.theme-dark .bg-blue-100,
body.theme-dark .bg-red-100,
body.theme-dark .bg-purple-100,
body.theme-dark .bg-orange-100,
body.theme-dark .bg-pink-100,
body.theme-dark .bg-indigo-100,
body.theme-dark .bg-teal-100,
body.theme-dark .bg-cyan-100 {
    color: var(--text-primary) !important;
}

/* Specific colored text overrides - all should be white */
body.theme-dark .text-yellow-600,
body.theme-dark .text-yellow-700,
body.theme-dark .text-yellow-800,
body.theme-dark .text-green-600,
body.theme-dark .text-green-700,
body.theme-dark .text-green-800,
body.theme-dark .text-blue-600,
body.theme-dark .text-blue-700,
body.theme-dark .text-blue-800,
body.theme-dark .text-red-600,
body.theme-dark .text-red-700,
body.theme-dark .text-red-800,
body.theme-dark .text-purple-600,
body.theme-dark .text-purple-700,
body.theme-dark .text-purple-800,
body.theme-dark .text-orange-600,
body.theme-dark .text-orange-700,
body.theme-dark .text-orange-800,
body.theme-dark .text-pink-600,
body.theme-dark .text-pink-700,
body.theme-dark .text-pink-800,
body.theme-dark .text-indigo-600,
body.theme-dark .text-indigo-700,
body.theme-dark .text-indigo-800 {
    color: var(--text-primary) !important;
}

/* Media page and bio page specific button fixes */
body.theme-dark .inline-flex.items-center.px-3.py-2.border,
body.theme-dark .inline-flex.items-center.px-2.py-1.rounded,
body.theme-dark .inline-flex.items-center.rounded-full {
    color: var(--text-primary) !important;
}

/* Admin page button fixes */
body.theme-dark .bg-purple-50,
body.theme-dark .bg-blue-50,
body.theme-dark .bg-green-50,
body.theme-dark .bg-yellow-50,
body.theme-dark .bg-red-50,
body.theme-dark .bg-orange-50 {
    color: var(--text-primary) !important;
}

/* ===== CATCH ALL REMAINING BUTTON AND BADGE TEXT ===== */

/* Watch buttons and action buttons with colored backgrounds */
body.theme-dark .bg-blue-600,
body.theme-dark .bg-green-600,
body.theme-dark .bg-purple-600,
body.theme-dark .bg-red-600,
body.theme-dark .bg-yellow-600,
body.theme-dark .bg-orange-600,
body.theme-dark .bg-pink-600,
body.theme-dark .bg-indigo-600,
body.theme-dark .bg-teal-600,
body.theme-dark .bg-cyan-600 {
    color: var(--text-primary) !important;
}

/* Genre badges and all spans with colored backgrounds */
body.theme-dark span.bg-blue-600,
body.theme-dark span.bg-green-600,
body.theme-dark span.bg-purple-600,
body.theme-dark span.bg-red-600,
body.theme-dark span.bg-yellow-600,
body.theme-dark span.bg-orange-600,
body.theme-dark span.bg-pink-600,
body.theme-dark span.bg-indigo-600,
body.theme-dark span.bg-gray-600,
body.theme-dark span.bg-gray-700,
body.theme-dark span.bg-gray-800 {
    color: var(--text-primary) !important;
}

/* Links and anchor tags with colored text */
body.theme-dark a.text-blue-600,
body.theme-dark a.text-green-600,
body.theme-dark a.text-purple-600,
body.theme-dark a.text-red-600,
body.theme-dark a.text-yellow-600,
body.theme-dark a.text-orange-600 {
    color: var(--text-primary) !important;
}

/* Any element with bg-opacity variants */
body.theme-dark .bg-blue-600.bg-opacity-75,
body.theme-dark .bg-green-600.bg-opacity-75,
body.theme-dark .bg-purple-600.bg-opacity-75,
body.theme-dark .bg-red-600.bg-opacity-75,
body.theme-dark .bg-yellow-600.bg-opacity-75,
body.theme-dark .bg-orange-600.bg-opacity-75,
body.theme-dark .bg-gray-600.bg-opacity-75 {
    color: var(--text-primary) !important;
}

/* Watch on Plex and Trailer buttons specifically */
body.theme-dark button[onclick*="openPlex"],
body.theme-dark button[onclick*="openTrailer"],
body.theme-dark a[href*="plex"],
body.theme-dark a[href*="youtube"],
body.theme-dark a[href*="trailer"] {
    color: var(--text-primary) !important;
}

/* Ultra-specific catchall for any remaining colored elements */
body.theme-dark [class*="bg-blue-"][class*="text-"],
body.theme-dark [class*="bg-green-"][class*="text-"],
body.theme-dark [class*="bg-purple-"][class*="text-"],
body.theme-dark [class*="bg-red-"][class*="text-"],
body.theme-dark [class*="bg-yellow-"][class*="text-"],
body.theme-dark [class*="bg-orange-"][class*="text-"],
body.theme-dark [class*="bg-pink-"][class*="text-"],
body.theme-dark [class*="bg-indigo-"][class*="text-"],
body.theme-dark [class*="bg-gray-"][class*="text-"] {
    color: var(--text-primary) !important;
}

/* ===== POSTER AND CARD SPECIFIC FIXES ===== */

/* Ultra-specific poster title fixes targeting the exact structure from movie_cards_only.html */
body.theme-dark .media-card .absolute.inset-0 h3.text-white,
body.theme-dark .movie-card .absolute.inset-0 h3.text-white,
body.theme-dark .movie-card-horizontal .absolute.inset-0 h3.text-white,
body.theme-dark .group .bg-gradient-to-t h3.text-white,
body.theme-dark .group:hover .bg-gradient-to-t h3.text-white,
body.theme-dark .opacity-0.group-hover\:opacity-100 h3.text-white,
body.theme-dark .group-hover\:opacity-100 h3.text-white,
/* Target the exact poster overlay structure from line 25 in movie_cards_only.html */
body.theme-dark .group .absolute.bottom-0 h3.text-white,
body.theme-dark .media-card h3.text-white.font-semibold,
body.theme-dark .movie-card h3.text-white.font-semibold,
/* General fallback for any text-white in poster overlays */
body.theme-dark .absolute.inset-0 .text-white,
body.theme-dark .bg-gradient-to-t .text-white,
body.theme-dark .group:hover .absolute .text-white,
body.theme-dark .group .absolute .text-white,
/* Override any text-white that might be getting overridden */
body.theme-dark .text-white {
    color: #ffffff !important;
}
/* Ensure hover overlays work correctly */
body.theme-dark .group:hover .text-white {
    color: #ffffff !important;
}

/* MUCH IMPROVED badge and pill color schemes for maximum visibility */
body.theme-dark .bg-orange-100 {
    background-color: rgba(234, 88, 12, 0.4) !important;
    border: 2px solid rgba(251, 146, 60, 0.6) !important;
    backdrop-filter: blur(4px) !important;
}

body.theme-dark .text-orange-800 {
    color: #fbbf24 !important;
    font-weight: 600 !important;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8) !important;
}

body.theme-dark .bg-blue-100 {
    background-color: rgba(59, 130, 246, 0.4) !important;
    border: 2px solid rgba(96, 165, 250, 0.6) !important;
    backdrop-filter: blur(4px) !important;
}

body.theme-dark .text-blue-800 {
    color: #60a5fa !important;
    font-weight: 600 !important;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8) !important;
}

body.theme-dark .bg-purple-100 {
    background-color: rgba(147, 51, 234, 0.4) !important;
    border: 2px solid rgba(168, 85, 247, 0.6) !important;
    backdrop-filter: blur(4px) !important;
}

body.theme-dark .text-purple-800 {
    color: #a855f7 !important;
    font-weight: 600 !important;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8) !important;
}

body.theme-dark .bg-green-100 {
    background-color: rgba(34, 197, 94, 0.4) !important;
    border: 2px solid rgba(74, 222, 128, 0.6) !important;
    backdrop-filter: blur(4px) !important;
}

body.theme-dark .text-green-800 {
    color: #4ade80 !important;
    font-weight: 600 !important;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8) !important;
}

/* Icon background improvements with better contrast */
body.theme-dark .bg-indigo-100 {
    background-color: rgba(99, 102, 241, 0.4) !important;
    border: 2px solid rgba(129, 140, 248, 0.6) !important;
    backdrop-filter: blur(4px) !important;
}

body.theme-dark .text-indigo-600 {
    color: #818cf8 !important;
    font-weight: 600 !important;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8) !important;
}

/* Improved orange and purple icon colors for services tab */
body.theme-dark .text-orange-600 {
    color: #fb923c !important;
    font-weight: 600 !important;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8) !important;
}

body.theme-dark .text-purple-600 {
    color: #a855f7 !important;
    font-weight: 600 !important;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8) !important;
}

/* Add improved visibility for yellow/amber badges often used for quality indicators */
body.theme-dark .bg-yellow-100 {
    background-color: rgba(245, 158, 11, 0.4) !important;
    border: 2px solid rgba(251, 191, 36, 0.6) !important;
    backdrop-filter: blur(4px) !important;
}

body.theme-dark .text-yellow-800 {
    color: #fbbf24 !important;
    font-weight: 600 !important;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8) !important;
}

/* Improve red badges for rejected/error states */
body.theme-dark .bg-red-100 {
    background-color: rgba(239, 68, 68, 0.4) !important;
    border: 2px solid rgba(248, 113, 113, 0.6) !important;
    backdrop-filter: blur(4px) !important;
}

body.theme-dark .text-red-800 {
    color: #f87171 !important;
    font-weight: 600 !important;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8) !important;
}

/* ===== FINAL POLISH ===== */
body.theme-dark {
    /* Ensure smooth transitions everywhere */
    * {
        transition-duration: 0.2s !important;
        transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1) !important;
    }
}